---
const rawBase = import.meta.env.BASE_URL;
const base = rawBase.endsWith('/') ? rawBase : `${rawBase}/`;
const withBase = (p: string) => `${base}${String(p).replace(/^\/+/,'')}`;
---
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href={withBase('/favicon.svg')} />
    <title><slot name="title" /></title>
  </head>
  <body style="max-width: 720px; margin: 2rem auto; padding: 0 1rem; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";">
    <nav style="display:flex; gap:1rem; margin-bottom:2rem;">
      <a href={withBase('/')}>首页</a>
      <a href={withBase('/posts/')}>文章</a>
    </nav>
    <main>
      <slot />
    </main>
  </body>
</html>